# üìä SQL Retail Sales Analysis

## üìå Overview
This project contains SQL queries for analyzing retail sales data. It includes data cleaning, exploration, and key business insights.

## üóÑÔ∏è Database & Table Setup
### **1Ô∏è‚É£ Create Database**
```sql
CREATE DATABASE Rental_sales_analysis;
```

### **2Ô∏è‚É£ Create Table**
```sql
DROP TABLE IF EXISTS Retail_Sales; -- Drop table if already exists

CREATE TABLE Retail_Sales (
    transaction_id INT PRIMARY KEY,
    sale_date DATE,
    sale_time TIME,
    customer_id INT,
    gender VARCHAR(15),
    age INT,
    category VARCHAR(15),
    quantity INT,
    price_per_unit FLOAT,
    cogs FLOAT, -- Cost of Goods Sold
    total_sale FLOAT
);
```

### **3Ô∏è‚É£ View Sample Data**
```sql
SELECT * FROM Retail_Sales LIMIT 20;
```

## üîç Data Cleaning
### **Check for NULL values**
```sql
SELECT * FROM Retail_Sales
WHERE transaction_id IS NULL
   OR sale_date IS NULL
   OR sale_time IS NULL
   OR gender IS NULL
   OR category IS NULL
   OR quantity IS NULL
   OR cogs IS NULL
   OR total_sale IS NULL;
```

### **Remove NULL values**
```sql
DELETE FROM Retail_Sales
WHERE transaction_id IS NULL
   OR sale_date IS NULL
   OR sale_time IS NULL
   OR gender IS NULL
   OR category IS NULL
   OR quantity IS NULL
   OR cogs IS NULL
   OR total_sale IS NULL;
```

## üìä Data Exploration & Business Insights
### **1Ô∏è‚É£ How many unique customers?**
```sql
SELECT COUNT(DISTINCT customer_id) AS total_customers FROM Retail_Sales;
```

### **2Ô∏è‚É£ How many customers made repeat purchases?**
```sql
SELECT COUNT(customer_id) AS repeated_customers
FROM (
    SELECT customer_id
    FROM Retail_Sales
    GROUP BY customer_id
    HAVING COUNT(customer_id) > 1
) AS repeated;
```

### **3Ô∏è‚É£ Gender distribution of customers**
```sql
SELECT gender, COUNT(DISTINCT customer_id) AS total_customers
FROM Retail_Sales
GROUP BY gender;
```

### **4Ô∏è‚É£ Average age of customers**
```sql
SELECT AVG(age) AS avg_age FROM Retail_Sales;
```

### **5Ô∏è‚É£ Total revenue generated**
```sql
SELECT SUM(total_sale) AS total_revenue FROM Retail_Sales;
```

### **6Ô∏è‚É£ Highest sale in a single transaction**
```sql
SELECT MAX(total_sale) AS highest_sale FROM Retail_Sales;
```

### **7Ô∏è‚É£ Date with highest total sales**
```sql
SELECT sale_date, SUM(total_sale) AS total_revenue
FROM Retail_Sales
GROUP BY sale_date
ORDER BY total_revenue DESC
LIMIT 1;
```

### **8Ô∏è‚É£ Average revenue per transaction**
```sql
SELECT AVG(total_sale) AS avg_transaction_value FROM Retail_Sales;
```

### **9Ô∏è‚É£ Top revenue-generating category**
```sql
SELECT category, SUM(total_sale) AS total_revenue
FROM Retail_Sales
GROUP BY category
ORDER BY total_revenue DESC
LIMIT 1;
```

### **üîü Most frequently purchased category**
```sql
SELECT category, COUNT(*) AS total_purchases
FROM Retail_Sales
GROUP BY category
ORDER BY total_purchases DESC
LIMIT 1;
```

### **1Ô∏è‚É£1Ô∏è‚É£ Average quantity per purchase**
```sql
SELECT AVG(quantity) AS avg_quantity FROM Retail_Sales;
```

### **1Ô∏è‚É£2Ô∏è‚É£ Hour of the day with highest sales**
```sql
SELECT EXTRACT(HOUR FROM sale_time) AS sale_hour, COUNT(*) AS total_sales
FROM Retail_Sales
GROUP BY sale_hour
ORDER BY total_sales DESC
LIMIT 1;
```

### **1Ô∏è‚É£3Ô∏è‚É£ Total sales per day of the week**
```sql
SELECT TO_CHAR(sale_date, 'Day') AS day_of_week, SUM(total_sale) AS total_sales
FROM Retail_Sales
GROUP BY day_of_week
ORDER BY total_sales DESC;
```

### **1Ô∏è‚É£4Ô∏è‚É£ Month with highest revenue**
```sql
SELECT TO_CHAR(sale_date, 'Month') AS month, SUM(total_sale) AS total_revenue
FROM Retail_Sales
GROUP BY month
ORDER BY total_revenue DESC
LIMIT 1;
```

### **1Ô∏è‚É£5Ô∏è‚É£ Total Cost of Goods Sold (COGS)**
```sql
SELECT SUM(cogs) AS total_cogs FROM Retail_Sales;
```

### **1Ô∏è‚É£6Ô∏è‚É£ Total profit generated**
```sql
SELECT SUM(total_sale - cogs) AS total_profit FROM Retail_Sales;
```

### **1Ô∏è‚É£7Ô∏è‚É£ Profit margin percentage**
```sql
SELECT (SUM(total_sale - cogs) / SUM(total_sale)) * 100 AS profit_margin_percentage
FROM Retail_Sales;
```

## üéØ Conclusion
This SQL script provides deep insights into retail sales, covering:
- Customer trends
- Revenue analysis
- Peak sales periods
- Profitability metrics

üöÄ **Use these queries to optimize business decisions and drive data-driven growth!** üöÄ


